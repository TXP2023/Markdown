# 题面

## 题目描述

FJ给奶牛贝西的脚安装上了弹簧，使它可以在农场里快速地跳跃，但是它还没有学会如何降低速度。


FJ觉得让贝西在一条直线的一维线路上进行练习，他在不同的目标点放置了 $N (1 \leq N \leq 1000)$ 个目标点，目标点i在目标点 $x(i)$，该点得分为 $p(i)$。贝西开始时可以选择站在一个目标点上，只允许朝一个方向跳跃，从一目标点跳到另外一个目标点，每次跳跃的距离至少和上一次跳跃的距离相等，并且必须跳到一个目标点。


每跳到一个目标点，贝西可以拿到该点的得分，请计算他的最大可能得分。

# 简述题目

线性问题，求最大值，dp?

我们令 $dp[i][j]$ 为从点$j$到达点$i$ 的最大权值

那么转移方程为

$$dp[i][j] = Max_{k=1}^{n}  [|x(j) - x(k)| <= |x(j) - x(i)|]  dp[j][k] + p(i)$$

复杂度 $O(n^3)$

优化掉枚举 $k$ 的过程

## 分类讨论

1) $k < j$

此时的 $k$ 位于 $j$ 的左边

如果存在一个 $k_1$ 满足 $ j - k_1 < j - k_2$ 且 $dp[j][k_1] > dp[j][k_2]$ 

那么 $k_2$ 是没有意义的

明显的， 可以使用优先队列优化

2) $k > j$

同理

